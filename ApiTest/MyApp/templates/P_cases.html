<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Title</title>
  </head>
  <body>
    <nav
      class="navbar navbar-default"
      role="navigation"
      style="
        position: absolute;
        top: 0px;
        left: 80px;
        width: -webkit-calc(100% - 200px);
        z-index: 1;
      "
    >
      <div class="container-fluid">
        <div class="navbar-header">
          <span style="font-size: xx-small" class="navbar-brand"
            >项目名称：{{ project.name }}</span
          >
          <a class="navbar-brand" href="/project_list/">返回项目列表</a>
        </div>
        <div>
          <ul class="nav navbar-nav">
            <li><a href="/apis/{{ project.id }}/">接口库</a></li>
            <li class="active">
              <a href="/cases/{{ project.id }}/">用例库</a>
            </li>
            <li><a href="/project_set/{{ project.id }}/">项目设置</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <br /><br />
    <table class="table table-striped">
      <thead>
        <tr>
          <th style="width: 50px">id</th>
          <th style="width: -webkit-calc(100% - 410px)">用例名称</th>
          <th style="width: 350px">操作</th>
        </tr>
      </thead>
      <tbody>
        {% for i in Cases %}
        <tr>
          <td>{{ i.id }}</td>
          <td>{{ i.name }}</td>
          <td>
            <div class="btn-group" style="z-index: 0">
              <button class="btn btn-success" onclick="">运行</button>
              <button
                class="btn btn-default"
                onclick="show_small('{{ i.id }}')"
              >
                设置
              </button>
              <button class="btn btn-default" onclick="">查看报告</button>
              <a href="/copy_case/{{ project.id }}/{{ i.id }}/">
                <button class="btn btn-default" onclick="">复制</button>
              </a>
              <a href="/del_case/{{ project.id }}/{{ i.id }}/">
                <button class="btn btn-danger" onclick="">删除</button>
              </a>
            </div>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

    <a href="/add_case/{{ project.id }}/">
      <button style="margin-left: 10px" class="btn btn-primary">
        新增用例
      </button>
    </a>
    {#小用例列表#}
    <div
      id="left_div"
      style="
        background-color: white;
        border: 1px solid black;
        z-index: 998;
        display: none;
        width: 48%;
        height: 100%;
        text-align: center;
        position: absolute;
        right: 100%;
        top: 0;
        overflow-y: visible;
      "
    >
      <button class="btn btn-default">新增小用例接口</button>
      <button class="btn btn-default">新增登录态接口</button>
      <button class="btn btn-danger" style="float: right">关闭</button>
      <div>
        {# 小用例都在这儿#}
        <div
          style="margin-top: 5px; width: 90%; background-color: #f5f3f3"
          class="btn btn-default"
        >
          小用例1
        </div>
        <div
          style="margin-top: 5px; width: 90%; background-color: #f5f3f3"
          class="btn btn-default"
        >
          小用例2
        </div>
        <div
          style="margin-top: 5px; width: 90%; background-color: #f5f3f3"
          class="btn btn-default"
        >
          小用例3
        </div>
      </div>
    </div>
    <script>
      function refresh_left_div(params) {
        // 刷新小用例列表专用
      }
      function show_small(case_id) {
        if (document.getElementById("left_div").style.display == "none") {
          $("#left_div").css("display", "block");
          $("#left_div").animate({ right: "52%" }, "fast");
        } else {
          $("#left_div").css("display", "none");
          $("#left_div").animate({ right: "100%" }, "fast");
          $("#left_div").css("display", "block");
          $("#left_div").animate({ right: "52%" }, "fast");
        }
        refresh_left_div(case_id);
      }
    </script>
  </body>
</html>
